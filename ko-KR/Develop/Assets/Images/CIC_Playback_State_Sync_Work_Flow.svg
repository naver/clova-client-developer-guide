<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="765.1378px" preserveAspectRatio="none" style="width:873px;height:765px;" version="1.1" viewBox="0 0 873 765" width="873.1357px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="38.8815" style="stroke: #000000; stroke-width: 0.9152366094643786;" width="9.1524" x="59.0328" y="61.5309"/><rect fill="#FFFFFF" height="72.7452" style="stroke: #000000; stroke-width: 0.9152366094643786;" width="9.1524" x="59.0328" y="674.0405"/><rect fill="#FFFFFF" height="102.4743" style="stroke: #FFFFFF; stroke-width: 0.9152366094643786;" width="9.1524" x="275.0286" y="203.3282"/><line style="stroke: #000000; stroke-width: 0.9152366094643786;" x1="275.0286" x2="275.0286" y1="203.3282" y2="305.8025"/><line style="stroke: #000000; stroke-width: 0.9152366094643786;" x1="284.181" x2="284.181" y1="203.3282" y2="305.8025"/><line style="stroke: #000000; stroke-width: 0.9152366094643786;" x1="275.0286" x2="284.181" y1="203.3282" y2="203.3282"/><rect fill="#FFFFFF" height="156.8826" style="stroke: #FFFFFF; stroke-width: 0.9152366094643786;" width="9.1524" x="275.0286" y="364.8192"/><line style="stroke: #000000; stroke-width: 0.9152366094643786;" x1="275.0286" x2="275.0286" y1="364.8192" y2="521.7018"/><line style="stroke: #000000; stroke-width: 0.9152366094643786;" x1="284.181" x2="284.181" y1="364.8192" y2="521.7018"/><line style="stroke: #000000; stroke-width: 0.9152366094643786;" x1="275.0286" x2="284.181" y1="521.7018" y2="521.7018"/><rect fill="#FFFFFF" height="41.1856" style="stroke: #FFFFFF; stroke-width: 0.9152366094643786;" width="9.1524" x="426.0426" y="264.6169"/><line style="stroke: #000000; stroke-width: 0.9152366094643786;" x1="426.0426" x2="426.0426" y1="264.6169" y2="305.8025"/><line style="stroke: #000000; stroke-width: 0.9152366094643786;" x1="435.195" x2="435.195" y1="264.6169" y2="305.8025"/><line style="stroke: #000000; stroke-width: 0.9152366094643786;" x1="426.0426" x2="435.195" y1="264.6169" y2="264.6169"/><rect fill="#FFFFFF" height="95.594" style="stroke: #FFFFFF; stroke-width: 0.9152366094643786;" width="9.1524" x="426.0426" y="364.8192"/><line style="stroke: #000000; stroke-width: 0.9152366094643786;" x1="426.0426" x2="426.0426" y1="364.8192" y2="460.4132"/><line style="stroke: #000000; stroke-width: 0.9152366094643786;" x1="435.195" x2="435.195" y1="364.8192" y2="460.4132"/><line style="stroke: #000000; stroke-width: 0.9152366094643786;" x1="426.0426" x2="435.195" y1="460.4132" y2="460.4132"/><rect fill="#FFFFFF" height="191.6616" style="stroke: #000000; stroke-width: 0.9152366094643786;" width="9.1524" x="755.5278" y="100.4124"/><rect fill="#FFFFFF" height="264.8806" style="stroke: #000000; stroke-width: 0.9152366094643786;" width="9.1524" x="755.5278" y="460.4132"/><rect fill="#FFFFFF" height="185.255" rx="4.5762" ry="4.5762" style="stroke: #000000; stroke-width: 1.8304732189287571;" width="596.2767" x="199.5216" y="114.1409"/><rect fill="#FFFFFF" height="157.7979" rx="4.5762" ry="4.5762" style="stroke: #000000; stroke-width: 1.8304732189287571;" width="596.2767" x="199.5216" y="371.2259"/><rect fill="#FFFFFF" height="139.5253" rx="4.5762" ry="4.5762" style="stroke: #000000; stroke-width: 1.8304732189287571;" width="783.9002" x="11.8981" y="599.9385"/><line style="stroke: #000000; stroke-width: 0.9152366094643786;" x1="63.1513" x2="63.1513" y1="52.3785" y2="305.8025"/><line style="stroke: #000000; stroke-width: 0.9152366094643786; stroke-dasharray: 1.0,4.0;" x1="63.1513" x2="63.1513" y1="305.8025" y2="364.8192"/><line style="stroke: #000000; stroke-width: 0.9152366094643786;" x1="63.1513" x2="63.1513" y1="364.8192" y2="755.0228"/><line style="stroke: #000000; stroke-width: 0.9152366094643786;" x1="279.1472" x2="279.1472" y1="52.3785" y2="305.8025"/><line style="stroke: #000000; stroke-width: 0.9152366094643786; stroke-dasharray: 1.0,4.0;" x1="279.1472" x2="279.1472" y1="305.8025" y2="364.8192"/><line style="stroke: #000000; stroke-width: 0.9152366094643786;" x1="279.1472" x2="279.1472" y1="364.8192" y2="755.0228"/><line style="stroke: #000000; stroke-width: 0.9152366094643786;" x1="430.1612" x2="430.1612" y1="52.3785" y2="305.8025"/><line style="stroke: #000000; stroke-width: 0.9152366094643786; stroke-dasharray: 1.0,4.0;" x1="430.1612" x2="430.1612" y1="305.8025" y2="364.8192"/><line style="stroke: #000000; stroke-width: 0.9152366094643786;" x1="430.1612" x2="430.1612" y1="364.8192" y2="755.0228"/><line style="stroke: #000000; stroke-width: 0.9152366094643786;" x1="760.104" x2="760.104" y1="52.3785" y2="305.8025"/><line style="stroke: #000000; stroke-width: 0.9152366094643786; stroke-dasharray: 1.0,4.0;" x1="760.104" x2="760.104" y1="305.8025" y2="364.8192"/><line style="stroke: #000000; stroke-width: 0.9152366094643786;" x1="760.104" x2="760.104" y1="364.8192" y2="755.0228"/><rect fill="#9EA0CA" height="48.7176" rx="4.5762" ry="4.5762" style="stroke: #FFFFFF; stroke-width: 1.3728549141965678;" width="85.117" x="21.0504" y="2.7457"/><text fill="#FFFFFF" font-family="&quot;Noto Sans CJK KR&quot;, sans-serif" font-size="12.8133" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="53.999" x="36.6095" y="33.0888">CLOVA 앱</text><rect fill="#9EA0CA" height="48.7176" rx="4.5762" ry="4.5762" style="stroke: #FFFFFF; stroke-width: 1.3728549141965678;" width="141.8617" x="208.6739" y="2.7457"/><text fill="#FFFFFF" font-family="&quot;Noto Sans CJK KR&quot;, sans-serif" font-size="12.8133" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="110.7436" x="224.233" y="33.0888">클라이언트 기기 1</text><rect fill="#9EA0CA" height="48.7176" rx="4.5762" ry="4.5762" style="stroke: #FFFFFF; stroke-width: 1.3728549141965678;" width="141.8617" x="359.688" y="2.7457"/><text fill="#FFFFFF" font-family="&quot;Noto Sans CJK KR&quot;, sans-serif" font-size="12.8133" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="110.7436" x="375.247" y="33.0888">클라이언트 기기 2</text><rect fill="#05D686" height="48.7176" rx="4.5762" ry="4.5762" style="stroke: #FFFFFF; stroke-width: 1.3728549141965678;" width="53.0837" x="733.5621" y="2.7457"/><text fill="#FFFFFF" font-family="&quot;Noto Sans CJK KR&quot;, sans-serif" font-size="12.8133" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="21.9657" x="749.1212" y="33.0888">CIC</text><rect fill="#FFFFFF" height="38.8815" style="stroke: #000000; stroke-width: 0.9152366094643786;" width="9.1524" x="59.0328" y="61.5309"/><rect fill="#FFFFFF" height="72.7452" style="stroke: #000000; stroke-width: 0.9152366094643786;" width="9.1524" x="59.0328" y="674.0405"/><rect fill="#FFFFFF" height="102.4743" style="stroke: #FFFFFF; stroke-width: 0.9152366094643786;" width="9.1524" x="275.0286" y="203.3282"/><line style="stroke: #000000; stroke-width: 0.9152366094643786;" x1="275.0286" x2="275.0286" y1="203.3282" y2="305.8025"/><line style="stroke: #000000; stroke-width: 0.9152366094643786;" x1="284.181" x2="284.181" y1="203.3282" y2="305.8025"/><line style="stroke: #000000; stroke-width: 0.9152366094643786;" x1="275.0286" x2="284.181" y1="203.3282" y2="203.3282"/><rect fill="#FFFFFF" height="156.8826" style="stroke: #FFFFFF; stroke-width: 0.9152366094643786;" width="9.1524" x="275.0286" y="364.8192"/><line style="stroke: #000000; stroke-width: 0.9152366094643786;" x1="275.0286" x2="275.0286" y1="364.8192" y2="521.7018"/><line style="stroke: #000000; stroke-width: 0.9152366094643786;" x1="284.181" x2="284.181" y1="364.8192" y2="521.7018"/><line style="stroke: #000000; stroke-width: 0.9152366094643786;" x1="275.0286" x2="284.181" y1="521.7018" y2="521.7018"/><rect fill="#FFFFFF" height="41.1856" style="stroke: #FFFFFF; stroke-width: 0.9152366094643786;" width="9.1524" x="426.0426" y="264.6169"/><line style="stroke: #000000; stroke-width: 0.9152366094643786;" x1="426.0426" x2="426.0426" y1="264.6169" y2="305.8025"/><line style="stroke: #000000; stroke-width: 0.9152366094643786;" x1="435.195" x2="435.195" y1="264.6169" y2="305.8025"/><line style="stroke: #000000; stroke-width: 0.9152366094643786;" x1="426.0426" x2="435.195" y1="264.6169" y2="264.6169"/><rect fill="#FFFFFF" height="95.594" style="stroke: #FFFFFF; stroke-width: 0.9152366094643786;" width="9.1524" x="426.0426" y="364.8192"/><line style="stroke: #000000; stroke-width: 0.9152366094643786;" x1="426.0426" x2="426.0426" y1="364.8192" y2="460.4132"/><line style="stroke: #000000; stroke-width: 0.9152366094643786;" x1="435.195" x2="435.195" y1="364.8192" y2="460.4132"/><line style="stroke: #000000; stroke-width: 0.9152366094643786;" x1="426.0426" x2="435.195" y1="460.4132" y2="460.4132"/><rect fill="#FFFFFF" height="191.6616" style="stroke: #000000; stroke-width: 0.9152366094643786;" width="9.1524" x="755.5278" y="100.4124"/><rect fill="#FFFFFF" height="264.8806" style="stroke: #000000; stroke-width: 0.9152366094643786;" width="9.1524" x="755.5278" y="460.4132"/><line style="stroke: #000000; stroke-width: 0.9152366094643786;" x1="753.6973" x2="744.545" y1="100.4124" y2="96.7514"/><line style="stroke: #000000; stroke-width: 0.9152366094643786;" x1="753.6973" x2="744.545" y1="100.4124" y2="104.0733"/><line style="stroke: #000000; stroke-width: 0.9152366094643786;" x1="63.6089" x2="754.6126" y1="100.4124" y2="100.4124"/><text fill="#000000" font-family="&quot;Noto Sans CJK KR&quot;, sans-serif" font-size="10.9828" lengthAdjust="spacingAndGlyphs" textLength="200.4368" x="309.35" y="87.0163">클라이언트 음원 재생 상태 업데이트 요청</text><path d="M204.0978,114.1409 L366.0946,114.1409 L366.0946,139.7675 L356.9423,148.9199 L199.5216,148.9199 L199.5216,118.7171 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 0.9152366094643786;"/><rect fill="none" height="185.255" rx="4.5762" ry="4.5762" style="stroke: #000000; stroke-width: 1.8304732189287571;" width="596.2767" x="199.5216" y="114.1409"/><text fill="#000000" font-family="&quot;Noto Sans CJK KR&quot;, sans-serif" font-size="10.9828" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="107.0827" x="222.4025" y="136.8806">Request state report</text><line style="stroke: #000000; stroke-width: 0.9152366094643786;" x1="284.181" x2="293.3333" y1="203.3282" y2="199.6673"/><line style="stroke: #000000; stroke-width: 0.9152366094643786;" x1="284.181" x2="293.3333" y1="203.3282" y2="206.9892"/><line style="stroke: #000000; stroke-width: 0.9152366094643786;" x1="284.181" x2="754.6126" y1="203.3282" y2="203.3282"/><text fill="#000000" font-family="&quot;Noto Sans CJK KR&quot;, sans-serif" font-size="10.9828" lengthAdjust="spacingAndGlyphs" textLength="284.6386" x="377.5351" y="174.8468">AudioPlayer.ExpectReportPlaybackState 지시 메시지 전달</text><text fill="#000000" font-family="&quot;Noto Sans CJK KR&quot;, sans-serif" font-size="10.9828" lengthAdjust="spacingAndGlyphs" textLength="101.5913" x="469.0588" y="189.9322">(Downchannel 이용)</text><line style="stroke: #000000; stroke-width: 0.9152366094643786;" x1="435.195" x2="444.3474" y1="264.6169" y2="260.9559"/><line style="stroke: #000000; stroke-width: 0.9152366094643786;" x1="435.195" x2="444.3474" y1="264.6169" y2="268.2778"/><line style="stroke: #000000; stroke-width: 0.9152366094643786;" x1="435.195" x2="754.6126" y1="264.6169" y2="264.6169"/><text fill="#000000" font-family="&quot;Noto Sans CJK KR&quot;, sans-serif" font-size="10.9828" lengthAdjust="spacingAndGlyphs" textLength="284.6386" x="453.0421" y="236.1355">AudioPlayer.ExpectReportPlaybackState 지시 메시지 전달</text><text fill="#000000" font-family="&quot;Noto Sans CJK KR&quot;, sans-serif" font-size="10.9828" lengthAdjust="spacingAndGlyphs" textLength="101.5913" x="544.5658" y="251.2208">(Downchannel 이용)</text><text fill="#000000" font-family="&quot;Noto Sans CJK KR&quot;, sans-serif" font-size="10.9828" lengthAdjust="spacingAndGlyphs" textLength="167.4883" x="328.1123" y="340.4403">클라이언트 음원 재생 상태 수집 후</text><path d="M204.0978,371.2259 L323.0785,371.2259 L323.0785,396.8525 L313.9262,406.0049 L199.5216,406.0049 L199.5216,375.8021 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 0.9152366094643786;"/><rect fill="none" height="157.7979" rx="4.5762" ry="4.5762" style="stroke: #000000; stroke-width: 1.8304732189287571;" width="596.2767" x="199.5216" y="371.2259"/><text fill="#000000" font-family="&quot;Noto Sans CJK KR&quot;, sans-serif" font-size="10.9828" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="64.0666" x="222.4025" y="393.9656">Report state</text><line style="stroke: #000000; stroke-width: 0.9152366094643786;" x1="753.6973" x2="744.545" y1="460.4132" y2="456.7522"/><line style="stroke: #000000; stroke-width: 0.9152366094643786;" x1="753.6973" x2="744.545" y1="460.4132" y2="464.0741"/><line style="stroke: #000000; stroke-width: 0.9152366094643786;" x1="430.6188" x2="754.6126" y1="460.4132" y2="460.4132"/><text fill="#000000" font-family="&quot;Noto Sans CJK KR&quot;, sans-serif" font-size="10.9828" lengthAdjust="spacingAndGlyphs" textLength="262.6729" x="461.7369" y="431.9318">AudioPlayer.ReportPlaybackState 이벤트 메시지 전송</text><text fill="#000000" font-family="&quot;Noto Sans CJK KR&quot;, sans-serif" font-size="10.9828" lengthAdjust="spacingAndGlyphs" textLength="103.4217" x="541.3625" y="447.0171">(음원 재생 상태 보고)</text><line style="stroke: #000000; stroke-width: 0.9152366094643786;" x1="753.6973" x2="744.545" y1="521.7018" y2="518.0409"/><line style="stroke: #000000; stroke-width: 0.9152366094643786;" x1="753.6973" x2="744.545" y1="521.7018" y2="525.3628"/><line style="stroke: #000000; stroke-width: 0.9152366094643786;" x1="279.6048" x2="754.6126" y1="521.7018" y2="521.7018"/><text fill="#000000" font-family="&quot;Noto Sans CJK KR&quot;, sans-serif" font-size="10.9828" lengthAdjust="spacingAndGlyphs" textLength="262.6729" x="386.2298" y="493.2205">AudioPlayer.ReportPlaybackState 이벤트 메시지 전송</text><text fill="#000000" font-family="&quot;Noto Sans CJK KR&quot;, sans-serif" font-size="10.9828" lengthAdjust="spacingAndGlyphs" textLength="103.4217" x="465.8554" y="508.3058">(음원 재생 상태 보고)</text><line style="stroke: #000000; stroke-width: 0.9152366094643786;" x1="764.6802" x2="803.1201" y1="574.3119" y2="574.3119"/><line style="stroke: #000000; stroke-width: 0.9152366094643786;" x1="803.1201" x2="803.1201" y1="574.3119" y2="586.2099"/><line style="stroke: #000000; stroke-width: 0.9152366094643786;" x1="765.5954" x2="803.1201" y1="586.2099" y2="586.2099"/><polygon fill="#000000" points="774.7478,582.549,765.5954,586.2099,774.7478,589.8709,771.0868,586.2099" style="stroke: #000000; stroke-width: 0.9152366094643786;"/><text fill="#000000" font-family="&quot;Noto Sans CJK KR&quot;, sans-serif" font-size="10.9828" lengthAdjust="spacingAndGlyphs" textLength="82.3713" x="780.2392" y="560.9158">수집된 상태 정리</text><path d="M16.4743,599.9385 L164.7426,599.9385 L164.7426,625.5651 L155.5902,634.7175 L11.8981,634.7175 L11.8981,604.5147 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 0.9152366094643786;"/><rect fill="none" height="139.5253" rx="4.5762" ry="4.5762" style="stroke: #000000; stroke-width: 1.8304732189287571;" width="783.9002" x="11.8981" y="599.9385"/><text fill="#000000" font-family="&quot;Noto Sans CJK KR&quot;, sans-serif" font-size="10.9828" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="93.3541" x="34.779" y="622.6782">Synchronize state</text><line style="stroke: #000000; stroke-width: 0.9152366094643786;" x1="68.1851" x2="77.3375" y1="674.0405" y2="670.3795"/><line style="stroke: #000000; stroke-width: 0.9152366094643786;" x1="68.1851" x2="77.3375" y1="674.0405" y2="677.7014"/><line style="stroke: #000000; stroke-width: 0.9152366094643786;" x1="68.1851" x2="754.6126" y1="674.0405" y2="674.0405"/><text fill="#000000" font-family="&quot;Noto Sans CJK KR&quot;, sans-serif" font-size="10.9828" lengthAdjust="spacingAndGlyphs" textLength="120.8112" x="351.4509" y="660.6444">음원 재생 상태 정보 공유</text><line style="stroke: #000000; stroke-width: 0.9152366094643786;" x1="68.1851" x2="106.6251" y1="724.82" y2="724.82"/><line style="stroke: #000000; stroke-width: 0.9152366094643786;" x1="106.6251" x2="106.6251" y1="724.82" y2="736.7181"/><line style="stroke: #000000; stroke-width: 0.9152366094643786;" x1="63.6089" x2="106.6251" y1="736.7181" y2="736.7181"/><polygon fill="#000000" points="72.7613,733.0572,63.6089,736.7181,72.7613,740.379,69.1004,736.7181" style="stroke: #000000; stroke-width: 0.9152366094643786;"/><text fill="#000000" font-family="&quot;Noto Sans CJK KR&quot;, sans-serif" font-size="10.9828" lengthAdjust="spacingAndGlyphs" textLength="175.7254" x="83.7441" y="711.424">클라이언트 음원 재생 상태 업데이트</text><!--
@startuml
scale max 880 width
skinparam sequenceMessageAlign center
skinparam shadowing false
skinparam roundcorner 10
skinparam padding 10
skinparam defaultFontSize 12
skinparam defaultFontName "Noto Sans CJK KR", sans-serif

skinparam note {
  BackgroundColor #9EA0CA
  BorderColor #ffffff
  FontColor #ffffff
  FontSize 14
  FontStyle bold
}

skinparam sequence {
  ArrowColor #000000
  ActorBorderColor #000000
  ActorFontStyle Bolder


  LifeLineBorderColor #000000
  LifeLineBackgroundColor transparent
  ParticipantBorderColor transparent
  ParticipantFontSize 14
  ParticipantFontColor #ffffff
  ParticipantFontStyle bold

  BoxBorderColor #000000
  BoxFontColor #ffffff
    BoxFontSize 14
    BoxFontStyle bold
}
hide footbox

skinparam activity {
  BackgroundColor #9EA0CA
  BarColor #ffffff
  BorderColor #ffffff
  DiamondBackgroundColor #05D686
  DiamondBorderColor #ffffff
  DiamondFontColor #ffffff
  DiamondFontSize 14
  DiamondFontStyle bold
  FontColor #ffffff 
  FontSize 14
  FontStyle bold
}

participant "CLOVA 앱" as ca #9EA0CA
participant "클라이언트 기기 1" as cli1 #9EA0CA
participant "클라이언트 기기 2" as cli2 #9EA0CA
participant CIC as cic #05D686

activate ca
  ca ->> cic : 클라이언트 음원 재생 상태 업데이트 요청
deactivate ca

group Request state report

  activate cic

    cic ->> cli1 : AudioPlayer.ExpectReportPlaybackState 지시 메시지 전달\n(Downchannel 이용)
    activate cli1

    cic ->> cli2 : AudioPlayer.ExpectReportPlaybackState 지시 메시지 전달\n(Downchannel 이용)
    activate cli2

  deactivate cic

end

...클라이언트 음원 재생 상태 수집 후...

group Report state

    cli2 ->> cic : AudioPlayer.ReportPlaybackState 이벤트 메시지 전송\n(음원 재생 상태 보고)
    deactivate cli2
  activate cic

    cli1 ->> cic : AudioPlayer.ReportPlaybackState 이벤트 메시지 전송\n(음원 재생 상태 보고)
    deactivate cli1

end

    cic -> cic : 수집된 상태 정리

group Synchronize state

    cic ->> ca : 음원 재생 상태 정보 공유
    activate ca

    ca -> ca : 클라이언트 음원 재생 상태 업데이트

  deactivate cic

end

@enduml

PlantUML version 1.2018.12(Sun Oct 21 19:15:15 KST 2018)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_191-b12
Operating System: Windows 10
OS Version: 10.0
Default Encoding: MS949
Language: ko
Country: KR
--></g></svg>