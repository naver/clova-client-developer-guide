<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1036.4444px" preserveAspectRatio="none" style="width:880px;height:1036px;background:#FFFFFF;" version="1.1" viewBox="0 0 880 1036" width="880.9778px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="50.6098" style="stroke:#000000;stroke-width:0.9777777777777777;" width="9.7778" x="273.2889" y="619.5591"/><rect fill="#FFFFFF" height="67.9751" style="stroke:#000000;stroke-width:0.9777777777777777;" width="9.7778" x="378.4" y="241.3156"/><rect fill="#FFFFFF" height="67.9751" style="stroke:#000000;stroke-width:0.9777777777777777;" width="9.7778" x="378.4" y="462.0978"/><rect fill="#FFFFFF" height="67.9751" style="stroke:#000000;stroke-width:0.9777777777777777;" width="9.7778" x="378.4" y="738.144"/><rect fill="#FFFFFF" height="131.296" style="stroke:#000000;stroke-width:0.9777777777777777;" width="9.7778" x="378.4" y="880.9387"/><rect fill="#FFFFFF" height="571.648" style="stroke:#000000;stroke-width:0.9777777777777777;" width="9.7778" x="745.0667" y="309.2907"/><rect fill="#FFFFFF" height="8.8" style="stroke:#000000;stroke-width:0.9777777777777777;" width="9.7778" x="745.0667" y="1012.2347"/><rect fill="#FFFFFF" height="693.9093" rx="4.8889" ry="4.8889" style="stroke:#000000;stroke-width:1.9555555555555555;" width="864.3556" x="9.7778" y="120.032"/><rect fill="#FFFFFF" height="157.4613" style="stroke:none;stroke-width:0.9777777777777777;" width="864.3556" x="9.7778" y="380.4338"/><rect fill="#FFFFFF" height="276.0462" style="stroke:none;stroke-width:0.9777777777777777;" width="864.3556" x="9.7778" y="537.8951"/><line style="stroke:#000000;stroke-width:0.9777777777777777;stroke-dasharray:5.0,5.0;" x1="47.9111" x2="47.9111" y1="103.4098" y2="1029.8347"/><line style="stroke:#000000;stroke-width:0.9777777777777777;stroke-dasharray:5.0,5.0;" x1="278.1778" x2="278.1778" y1="103.4098" y2="1029.8347"/><line style="stroke:#000000;stroke-width:0.9777777777777777;stroke-dasharray:5.0,5.0;" x1="382.8" x2="382.8" y1="103.4098" y2="1029.8347"/><line style="stroke:#000000;stroke-width:0.9777777777777777;stroke-dasharray:5.0,5.0;" x1="749.9556" x2="749.9556" y1="103.4098" y2="1029.8347"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="11.7333" font-weight="bold" lengthAdjust="spacing" textLength="32.2667" x="29.3333" y="89.8773">사용자</text><ellipse cx="48.4" cy="14.6667" fill="#FEFECE" rx="7.8222" ry="7.8222" style="stroke:#000000;stroke-width:1.9555555555555555;"/><path d="M48.4,22.4889 L48.4,48.8889 M35.6889,30.3111 L61.1111,30.3111 M48.4,48.8889 L35.6889,63.5556 M48.4,48.8889 L61.1111,63.5556 " fill="none" style="stroke:#000000;stroke-width:1.9555555555555555;"/><rect fill="#9EA0CA" height="53.504" rx="4.8889" ry="4.8889" style="stroke:#FFFFFF;stroke-width:1.4666666666666666;" width="93.8667" x="231.2444" y="48.928"/><text fill="#FFFFFF" font-family="Noto Sans CJK KR" font-size="13.6889" font-weight="bold" lengthAdjust="spacing" textLength="60.6222" x="247.8667" y="81.4293">CLOVA 앱</text><rect fill="#9EA0CA" height="53.504" rx="4.8889" ry="4.8889" style="stroke:#FFFFFF;stroke-width:1.4666666666666666;" width="96.8" x="334.8889" y="48.928"/><text fill="#FFFFFF" font-family="Noto Sans CJK KR" font-size="13.6889" font-weight="bold" lengthAdjust="spacing" textLength="63.5556" x="351.5111" y="81.4293">클라이언트</text><rect fill="#05D686" height="53.504" rx="4.8889" ry="4.8889" style="stroke:#FFFFFF;stroke-width:1.4666666666666666;" width="78.2222" x="710.8444" y="48.928"/><text fill="#FFFFFF" font-family="Noto Sans CJK KR" font-size="13.6889" font-weight="bold" lengthAdjust="spacing" textLength="44.9778" x="727.4667" y="81.4293">CLOVA</text><rect fill="#FFFFFF" height="50.6098" style="stroke:#000000;stroke-width:0.9777777777777777;" width="9.7778" x="273.2889" y="619.5591"/><rect fill="#FFFFFF" height="67.9751" style="stroke:#000000;stroke-width:0.9777777777777777;" width="9.7778" x="378.4" y="241.3156"/><rect fill="#FFFFFF" height="67.9751" style="stroke:#000000;stroke-width:0.9777777777777777;" width="9.7778" x="378.4" y="462.0978"/><rect fill="#FFFFFF" height="67.9751" style="stroke:#000000;stroke-width:0.9777777777777777;" width="9.7778" x="378.4" y="738.144"/><rect fill="#FFFFFF" height="131.296" style="stroke:#000000;stroke-width:0.9777777777777777;" width="9.7778" x="378.4" y="880.9387"/><rect fill="#FFFFFF" height="571.648" style="stroke:#000000;stroke-width:0.9777777777777777;" width="9.7778" x="745.0667" y="309.2907"/><rect fill="#FFFFFF" height="8.8" style="stroke:#000000;stroke-width:0.9777777777777777;" width="9.7778" x="745.0667" y="1012.2347"/><path d="M14.6667,120.032 L88.9778,120.032 L88.9778,148.3876 L79.2,158.1653 L9.7778,158.1653 L9.7778,124.9209 " fill="#EEEEEE" style="stroke:#000000;stroke-width:0.9777777777777777;"/><rect fill="none" height="693.9093" rx="4.8889" ry="4.8889" style="stroke:#000000;stroke-width:1.9555555555555555;" width="864.3556" x="9.7778" y="120.032"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="11.7333" font-weight="bold" lengthAdjust="spacing" textLength="15.6444" x="34.2222" y="144.3982">alt</text><text fill="#000000" font-family="Noto Sans CJK KR" font-size="11.7333" font-weight="bold" lengthAdjust="spacing" textLength="139.8222" x="113.4222" y="145.376">[발화를 통한 음원 재생 제어]</text><line style="stroke:#000000;stroke-width:0.9777777777777777;" x1="376.4444" x2="366.6667" y1="241.3156" y2="237.4044"/><line style="stroke:#000000;stroke-width:0.9777777777777777;" x1="376.4444" x2="366.6667" y1="241.3156" y2="245.2267"/><line style="stroke:#000000;stroke-width:0.9777777777777777;" x1="48.4" x2="377.4222" y1="241.3156" y2="241.3156"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="11.7333" lengthAdjust="spacing" textLength="97.7778" x="164.5111" y="208.4622">음악 재생 제어 요청:</text><text fill="#000000" font-family="Noto Sans CJK KR" font-size="11.7333" lengthAdjust="spacing" textLength="106.5778" x="160.1111" y="225.8276">"음악 일지 정지해줘."</text><line style="stroke:#000000;stroke-width:0.9777777777777777;" x1="743.1111" x2="733.3333" y1="309.2907" y2="305.3796"/><line style="stroke:#000000;stroke-width:0.9777777777777777;" x1="743.1111" x2="733.3333" y1="309.2907" y2="313.2018"/><line style="stroke:#000000;stroke-width:0.9777777777777777;" x1="383.2889" x2="744.0889" y1="309.2907" y2="309.2907"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="11.7333" lengthAdjust="spacing" textLength="81.1556" x="523.6" y="276.4373">사용자 요청 전달</text><text fill="#000000" font-family="Noto Sans CJK KR" font-size="11.7333" lengthAdjust="spacing" textLength="239.5556" x="444.4" y="293.8027">(SpeechRecognizer.Recognize 이벤트 메시지)</text><line style="stroke:#000000;stroke-width:0.9777777777777777;" x1="754.8444" x2="795.9111" y1="359.9004" y2="359.9004"/><line style="stroke:#000000;stroke-width:0.9777777777777777;" x1="795.9111" x2="795.9111" y1="359.9004" y2="372.6116"/><line style="stroke:#000000;stroke-width:0.9777777777777777;" x1="755.8222" x2="795.9111" y1="372.6116" y2="372.6116"/><polygon fill="#000000" points="765.6,368.7004,755.8222,372.6116,765.6,376.5227,761.6889,372.6116" style="stroke:#000000;stroke-width:0.9777777777777777;"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="11.7333" lengthAdjust="spacing" textLength="81.1556" x="771.4667" y="344.4124">사용자 발화 분석</text><line style="stroke:#000000;stroke-width:0.9777777777777777;stroke-dasharray:2.0,2.0;" x1="9.7778" x2="874.1333" y1="381.4116" y2="381.4116"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="11.7333" font-weight="bold" lengthAdjust="spacing" textLength="242.4889" x="24.4444" y="404.8">[클라이언트 기기의 버튼을 이용한 음원 재생 제어]</text><line style="stroke:#000000;stroke-width:0.9777777777777777;" x1="376.4444" x2="366.6667" y1="462.0978" y2="458.1867"/><line style="stroke:#000000;stroke-width:0.9777777777777777;" x1="376.4444" x2="366.6667" y1="462.0978" y2="466.0089"/><line style="stroke:#000000;stroke-width:0.9777777777777777;" x1="48.4" x2="377.4222" y1="462.0978" y2="462.0978"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="11.7333" lengthAdjust="spacing" textLength="94.8444" x="165.9778" y="446.6098">일시 정지 버튼 누름</text><line style="stroke:#000000;stroke-width:0.9777777777777777;" x1="743.1111" x2="733.3333" y1="530.0729" y2="526.1618"/><line style="stroke:#000000;stroke-width:0.9777777777777777;" x1="743.1111" x2="733.3333" y1="530.0729" y2="533.984"/><line style="stroke:#000000;stroke-width:0.9777777777777777;" x1="383.2889" x2="744.0889" y1="530.0729" y2="530.0729"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="11.7333" lengthAdjust="spacing" textLength="119.2889" x="504.5333" y="497.2196">일시 정지 명령 발생 보고</text><text fill="#000000" font-family="Noto Sans CJK KR" font-size="11.7333" lengthAdjust="spacing" textLength="313.8667" x="407.2444" y="514.5849">(PlaybackController.PauseCommandIssued 이벤트 메시지)</text><line style="stroke:#000000;stroke-width:0.9777777777777777;stroke-dasharray:2.0,2.0;" x1="9.7778" x2="874.1333" y1="538.8729" y2="538.8729"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="11.7333" font-weight="bold" lengthAdjust="spacing" textLength="216.0889" x="24.4444" y="562.2613">[CLOVA 앱을 통해 원격으로 음원 재생 제어]</text><line style="stroke:#000000;stroke-width:0.9777777777777777;" x1="271.3333" x2="261.5556" y1="619.5591" y2="615.648"/><line style="stroke:#000000;stroke-width:0.9777777777777777;" x1="271.3333" x2="261.5556" y1="619.5591" y2="623.4702"/><line style="stroke:#000000;stroke-width:0.9777777777777777;" x1="48.4" x2="272.3111" y1="619.5591" y2="619.5591"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="11.7333" lengthAdjust="spacing" textLength="186.7556" x="67.4667" y="604.0711">클라이언트의 음원 재생 일시 정지 요청</text><line style="stroke:#000000;stroke-width:0.9777777777777777;" x1="743.1111" x2="733.3333" y1="670.1689" y2="666.2578"/><line style="stroke:#000000;stroke-width:0.9777777777777777;" x1="743.1111" x2="733.3333" y1="670.1689" y2="674.08"/><line style="stroke:#000000;stroke-width:0.9777777777777777;" x1="278.1778" x2="744.0889" y1="670.1689" y2="670.1689"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="11.7333" lengthAdjust="spacing" textLength="211.2" x="406.0222" y="654.6809">클라이언트의 음원 재생 일시 정지 요청 전달</text><line style="stroke:#000000;stroke-width:0.9777777777777777;" x1="388.1778" x2="397.9556" y1="738.144" y2="734.2329"/><line style="stroke:#000000;stroke-width:0.9777777777777777;" x1="388.1778" x2="397.9556" y1="738.144" y2="742.0551"/><line style="stroke:#000000;stroke-width:0.9777777777777777;" x1="388.1778" x2="744.0889" y1="738.144" y2="738.144"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="11.7333" lengthAdjust="spacing" textLength="267.9111" x="432.6667" y="705.2907">사용자가 일시 정지 버튼을 누른 것처럼 동작하도록 요청</text><text fill="#000000" font-family="Noto Sans CJK KR" font-size="11.7333" lengthAdjust="spacing" textLength="304.0889" x="414.5778" y="722.656">(PlaybackController.ExpectPauseCommand 지시 메시지)</text><line style="stroke:#000000;stroke-width:0.9777777777777777;" x1="743.1111" x2="733.3333" y1="806.1191" y2="802.208"/><line style="stroke:#000000;stroke-width:0.9777777777777777;" x1="743.1111" x2="733.3333" y1="806.1191" y2="810.0302"/><line style="stroke:#000000;stroke-width:0.9777777777777777;" x1="383.2889" x2="744.0889" y1="806.1191" y2="806.1191"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="11.7333" lengthAdjust="spacing" textLength="119.2889" x="504.5333" y="773.2658">일시 정지 명령 발생 보고</text><text fill="#000000" font-family="Noto Sans CJK KR" font-size="11.7333" lengthAdjust="spacing" textLength="313.8667" x="407.2444" y="790.6311">(PlaybackController.PauseCommandIssued 이벤트 메시지)</text><line style="stroke:#000000;stroke-width:0.9777777777777777;" x1="388.1778" x2="397.9556" y1="880.9387" y2="877.0276"/><line style="stroke:#000000;stroke-width:0.9777777777777777;" x1="388.1778" x2="397.9556" y1="880.9387" y2="884.8498"/><line style="stroke:#000000;stroke-width:0.9777777777777777;stroke-dasharray:2.0,2.0;" x1="388.1778" x2="748.9778" y1="880.9387" y2="880.9387"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="11.7333" lengthAdjust="spacing" textLength="94.8444" x="521.6444" y="848.0853">음원 재생 중지 지시</text><text fill="#000000" font-family="Noto Sans CJK KR" font-size="11.7333" lengthAdjust="spacing" textLength="210.2222" x="463.9556" y="865.4507">(PlaybackController.Pause 지시 메시지)</text><line style="stroke:#000000;stroke-width:0.9777777777777777;" x1="388.1778" x2="429.2444" y1="931.5484" y2="931.5484"/><line style="stroke:#000000;stroke-width:0.9777777777777777;" x1="429.2444" x2="429.2444" y1="931.5484" y2="944.2596"/><line style="stroke:#000000;stroke-width:0.9777777777777777;" x1="389.1556" x2="429.2444" y1="944.2596" y2="944.2596"/><polygon fill="#000000" points="398.9333,940.3484,389.1556,944.2596,398.9333,948.1707,395.0222,944.2596" style="stroke:#000000;stroke-width:0.9777777777777777;"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="11.7333" lengthAdjust="spacing" textLength="94.8444" x="404.8" y="916.0604">음원 재생 일시 정지</text><line style="stroke:#000000;stroke-width:0.9777777777777777;" x1="743.1111" x2="733.3333" y1="1012.2347" y2="1008.3236"/><line style="stroke:#000000;stroke-width:0.9777777777777777;" x1="743.1111" x2="733.3333" y1="1012.2347" y2="1016.1458"/><line style="stroke:#000000;stroke-width:0.9777777777777777;" x1="383.2889" x2="744.0889" y1="1012.2347" y2="1012.2347"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="11.7333" lengthAdjust="spacing" textLength="119.2889" x="504.5333" y="979.3813">음원 재생 일시 정지 보고</text><text fill="#000000" font-family="Noto Sans CJK KR" font-size="11.7333" lengthAdjust="spacing" textLength="221.9556" x="453.2" y="996.7467">(AudioPlayer.PlayResumed 이벤트 메시지)</text><!--MD5=[6e25cc54223e0ecc2c115105232df659]
@startuml
!include ../../../styles/PlantUML_StyleSheet.puml

actor 사용자 as user
participant "CLOVA 앱" as app #9EA0CA
participant 클라이언트 as client #9EA0CA
participant CLOVA as clova #05D686

alt 발화를 통한 음원 재생 제어

  user ->> client : 음악 재생 제어 요청:\n"음악 일지 정지해줘."

  activate client
    
    client ->> clova : 사용자 요청 전달\n(SpeechRecognizer.Recognize 이벤트 메시지)
  
  deactivate client

  activate clova

    clova -> clova : 사용자 발화 분석  

else 클라이언트 기기의 버튼을 이용한 음원 재생 제어

  user ->> client : 일시 정지 버튼 누름

  activate client
    
    client ->> clova : 일시 정지 명령 발생 보고\n(PlaybackController.PauseCommandIssued 이벤트 메시지)
  
  deactivate client

else CLOVA 앱을 통해 원격으로 음원 재생 제어

  user ->> app : 클라이언트의 음원 재생 일시 정지 요청

  activate app

    app ->> clova : 클라이언트의 음원 재생 일시 정지 요청 전달
    
  deactivate app

    clova ->> client : 사용자가 일시 정지 버튼을 누른 것처럼 동작하도록 요청\n(PlaybackController.ExpectPauseCommand 지시 메시지)

  activate client

    client ->> clova : 일시 정지 명령 발생 보고\n(PlaybackController.PauseCommandIssued 이벤트 메시지)

  deactivate client

end


activate clova

  clova - ->> client : 음원 재생 중지 지시\n(PlaybackController.Pause 지시 메시지)

deactivate clova

activate client

  client -> client : 음원 재생 일시 정지
  client ->> clova : 음원 재생 일시 정지 보고\n(AudioPlayer.PlayResumed 이벤트 메시지)

deactivate client

activate clova

@enduml

@startuml
scale max 880 width
skinparam sequenceMessageAlign center
skinparam shadowing false
skinparam roundcorner 10
skinparam padding 10
skinparam defaultFontSize 12
skinparam defaultFontName "Noto Sans CJK KR"

skinparam note {
  BackgroundColor #9EA0CA
  BorderColor #ffffff
  FontColor #ffffff
  FontSize 14
  FontStyle bold
}

skinparam sequence {
  ArrowColor #000000
  ActorBorderColor #000000
  ActorFontStyle Bolder


  LifeLineBorderColor #000000
  LifeLineBackgroundColor transparent
  ParticipantBorderColor transparent
  ParticipantFontSize 14
  ParticipantFontColor #ffffff
  ParticipantFontStyle bold

  BoxBorderColor #000000
  BoxFontColor #ffffff
    BoxFontSize 14
    BoxFontStyle bold
}
hide footbox

skinparam activity {
  BackgroundColor #9EA0CA
  BarColor #ffffff
  BorderColor #ffffff
  DiamondBackgroundColor #05D686
  DiamondBorderColor #ffffff
  DiamondFontColor #ffffff
  DiamondFontSize 14
  DiamondFontStyle bold
  FontColor #ffffff 
  FontSize 14
  FontStyle bold
}

actor 사용자 as user
participant "CLOVA 앱" as app #9EA0CA
participant 클라이언트 as client #9EA0CA
participant CLOVA as clova #05D686

alt 발화를 통한 음원 재생 제어

  user ->> client : 음악 재생 제어 요청:\n"음악 일지 정지해줘."

  activate client
    
    client ->> clova : 사용자 요청 전달\n(SpeechRecognizer.Recognize 이벤트 메시지)
  
  deactivate client

  activate clova

    clova -> clova : 사용자 발화 분석  

else 클라이언트 기기의 버튼을 이용한 음원 재생 제어

  user ->> client : 일시 정지 버튼 누름

  activate client
    
    client ->> clova : 일시 정지 명령 발생 보고\n(PlaybackController.PauseCommandIssued 이벤트 메시지)
  
  deactivate client

else CLOVA 앱을 통해 원격으로 음원 재생 제어

  user ->> app : 클라이언트의 음원 재생 일시 정지 요청

  activate app

    app ->> clova : 클라이언트의 음원 재생 일시 정지 요청 전달
    
  deactivate app

    clova ->> client : 사용자가 일시 정지 버튼을 누른 것처럼 동작하도록 요청\n(PlaybackController.ExpectPauseCommand 지시 메시지)

  activate client

    client ->> clova : 일시 정지 명령 발생 보고\n(PlaybackController.PauseCommandIssued 이벤트 메시지)

  deactivate client

end


activate clova

  clova - ->> client : 음원 재생 중지 지시\n(PlaybackController.Pause 지시 메시지)

deactivate clova

activate client

  client -> client : 음원 재생 일시 정지
  client ->> clova : 음원 재생 일시 정지 보고\n(AudioPlayer.PlayResumed 이벤트 메시지)

deactivate client

activate clova

@enduml

PlantUML version 1.2021.7(Sun May 23 21:40:07 KST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: KR
--></g></svg>